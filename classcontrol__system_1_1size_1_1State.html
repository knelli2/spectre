<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="author" content="SXS Collaboration">
    <meta name="generator" content="Doxygen 1.9.1"/>
  <title>SpECTRE: control_system::size::State Class Reference</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="./MathJax.js"></script>
  <link href="octicons.css" rel="stylesheet">
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
  <script src="https://unpkg.com/@popperjs/core@2"></script>
  <script src="https://unpkg.com/tippy.js@6"></script>
  <script type="text/javascript" src="spectre.js"></script>
  <script type="text/javascript" src="doxygen-navtree-hacks.js"></script>
  </head>
  <body>
  <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
  <div id="titlearea">
    <table cellspacing="0" cellpadding="0">
      <tbody>
        <tr style="height: 56px;">
          <td id="projectalign" style="padding-left: 0.5em;">
            <div id="projectname">
              <a href="index.html">SpECTRE</a>
              &#160;<span id="projectnumber">v2022.08.01</span>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classcontrol__system_1_1size_1_1State.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classcontrol__system_1_1size_1_1State-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">control_system::size::State Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Represents a 'state' of the size control system.  
 <a href="classcontrol__system_1_1size_1_1State.html#details">More...</a></p>

<p><code>#include &lt;State.hpp&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a26b19071c3f9c77e500284006d9701d5"><td class="memItemLeft" align="right" valign="top"><a id="a26b19071c3f9c77e500284006d9701d5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>State</b> (const <a class="el" href="classcontrol__system_1_1size_1_1State.html">State</a> &amp;)=default</td></tr>
<tr class="separator:a26b19071c3f9c77e500284006d9701d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abacbc5f1aa4481a5780192eb9678c855"><td class="memItemLeft" align="right" valign="top"><a id="abacbc5f1aa4481a5780192eb9678c855"></a>
<a class="el" href="classcontrol__system_1_1size_1_1State.html">State</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classcontrol__system_1_1size_1_1State.html">State</a> &amp;)=default</td></tr>
<tr class="separator:abacbc5f1aa4481a5780192eb9678c855"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88fbae0fa57f0ec3933d0bc10270c708"><td class="memItemLeft" align="right" valign="top"><a id="a88fbae0fa57f0ec3933d0bc10270c708"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>State</b> (<a class="el" href="classcontrol__system_1_1size_1_1State.html">State</a> &amp;&amp;)=default</td></tr>
<tr class="separator:a88fbae0fa57f0ec3933d0bc10270c708"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afab1b93877c9654ad2630d1eb335191f"><td class="memItemLeft" align="right" valign="top"><a id="afab1b93877c9654ad2630d1eb335191f"></a>
<a class="el" href="classcontrol__system_1_1size_1_1State.html">State</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classcontrol__system_1_1size_1_1State.html">State</a> &amp;&amp;)=default</td></tr>
<tr class="separator:afab1b93877c9654ad2630d1eb335191f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a302ca4f949824a3eb23e07d478be347c"><td class="memItemLeft" align="right" valign="top"><a id="a302ca4f949824a3eb23e07d478be347c"></a>
virtual <a class="elRef" href="http://en.cppreference.com/w/cpp/memory/unique_ptr.html">std::unique_ptr</a>&lt; <a class="el" href="classcontrol__system_1_1size_1_1State.html">State</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>get_clone</b> () const =0</td></tr>
<tr class="separator:a302ca4f949824a3eb23e07d478be347c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafa14493a6071fbb53713120f7d8d420"><td class="memItemLeft" align="right" valign="top"><a id="aafa14493a6071fbb53713120f7d8d420"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrol__system_1_1size_1_1State.html#aafa14493a6071fbb53713120f7d8d420">update</a> (const <a class="el" href="classgsl_1_1not__null.html">gsl::not_null</a>&lt; <a class="el" href="structcontrol__system_1_1size_1_1Info.html">Info</a> * &gt; info, const <a class="el" href="structcontrol__system_1_1size_1_1StateUpdateArgs.html">StateUpdateArgs</a> &amp;update_args, const <a class="el" href="structcontrol__system_1_1size_1_1CrossingTimeInfo.html">CrossingTimeInfo</a> &amp;crossing_time_info) const =0</td></tr>
<tr class="memdesc:aafa14493a6071fbb53713120f7d8d420"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the <a class="el" href="structcontrol__system_1_1size_1_1Info.html" title="Holds information that is saved between calls of SizeControl.">Info</a> in <code>info</code>. Notice that <code>info</code> includes a state, which might be different than the current state upon return. It is the caller's responsibility to check if the current state has changed. <br /></td></tr>
<tr class="separator:aafa14493a6071fbb53713120f7d8d420"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48ac41e710887807f6c4e3bae2b09d56"><td class="memItemLeft" align="right" valign="top"><a id="a48ac41e710887807f6c4e3bae2b09d56"></a>
virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcontrol__system_1_1size_1_1State.html#a48ac41e710887807f6c4e3bae2b09d56">control_signal</a> (const <a class="el" href="structcontrol__system_1_1size_1_1Info.html">Info</a> &amp;info, const <a class="el" href="structcontrol__system_1_1size_1_1ControlSignalArgs.html">ControlSignalArgs</a> &amp;control_signal_args) const =0</td></tr>
<tr class="memdesc:a48ac41e710887807f6c4e3bae2b09d56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the control signal, but does not modify the state or any parameters. <br /></td></tr>
<tr class="separator:a48ac41e710887807f6c4e3bae2b09d56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa880b7a321ea5e5e01963107c2ef242b"><td class="memItemLeft" align="right" valign="top"><a id="aa880b7a321ea5e5e01963107c2ef242b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>WRAPPED_PUPable_abstract</b> (<a class="el" href="classcontrol__system_1_1size_1_1State.html">State</a>)</td></tr>
<tr class="separator:aa880b7a321ea5e5e01963107c2ef242b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab87f9c30e187dfff679a36b46da1bf41"><td class="memItemLeft" align="right" valign="top"><a id="ab87f9c30e187dfff679a36b46da1bf41"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>State</b> (CkMigrateMessage *msg)</td></tr>
<tr class="separator:ab87f9c30e187dfff679a36b46da1bf41"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents a 'state' of the size control system. </p>
<p>Each 'state' of the size control system has a different control signal, which has a different purpose, even though each state controls the same map quantity, namely the Y00 coefficient of the shape map. For example, state Label::AhSpeed controls the Y00 coefficient of the shape map so that the minimum characteristic speed is driven towards a target value, and state Label::DeltaR controls the Y00 coefficient of the shape map (or the Y00 coefficient of a separate spherically-symmetric size map) so that the minimum difference between the horizon radius and the excision boundary radius is driven towards a constant.</p>
<p>Each state has its own logic (the 'update' function) that determines values of certain parameters (i.e. the things in <a class="el" href="structcontrol__system_1_1size_1_1Info.html" title="Holds information that is saved between calls of SizeControl.">Info</a>), including whether the control system should transition to a different state.</p>
<p>The different states are:</p><ul>
<li>Initial: drives dr/dt of the excision boundary to <a class="el" href="structcontrol__system_1_1size_1_1Info.html#a9bc6f64205fc7999d67f694e2ac3ab03" title="target_drift_velocity is what dr/dt (where r and t are distorted frame variables) of the excision bou...">Info::target_drift_velocity</a>.</li>
<li>AhSpeed: drives the minimum characteristic speed on the excision boundary to <a class="el" href="structcontrol__system_1_1size_1_1Info.html#a7d66349f4546fb7677abc72678b0d0f8" title="target_char_speed is what the characteristic speed is driven toward in state Label::AhSpeed.">Info::target_char_speed</a>.</li>
<li>DeltaR: drives the minimum distance between the horizon and the excision boundary to be constant in time.</li>
<li>DeltaRDriftInward: Same as DeltaR but the excision boundary has a small velocity inward. This state is triggered when it is deemed that the excision boundary and the horizon are too close to each other; the small velocity makes the excision boundary and the horizon drift apart.</li>
<li>DeltaRDriftOutward: Same as DeltaR but the excision boundary has a small velocity outward. This state is triggered when it is deemed that the excision boundary and the horizon are too far apart.</li>
<li>DeltaRTransition: Same as DeltaR except for the logic that determines how DeltaRTransition changes to other states. DeltaRTransition is allowed (under some circumstances) to change to state DeltaR, but DeltaRDriftOutward and DeltaRDriftInward are never allowed to change to state DeltaR. Instead DeltaRDriftOutward and DeltaRDriftInward are allowed (under some circumstances) to change to state DeltaRTransition.</li>
</ul>
<p>The reason that DeltaRDriftInward, DeltaRDriftOutward, and DeltaRTransition are separate states is to simplify the logic. In principle, all 3 of those states could be merged with state DeltaR, because the control error is the same for all four states (except for a velocity term that could be set to zero). But if that were done, then there would need to be additional complicated logic in determining transitions between different states, and that logic would depend not only on the current state, but also on the previous state. </p>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li>src/ControlSystem/ControlErrors/Size/State.hpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacecontrol__system.html">control_system</a></li><li class="navelem"><b>size</b></li><li class="navelem"><a class="el" href="classcontrol__system_1_1size_1_1State.html">State</a></li>
    <li class="footer">
    &copy; Copyright 2017 - 2022
    <a href="https://black-holes.org">SXS Collaboration</a>,
    <a href="LICENSE.txt" target="_blank">
    <span class="hidden-xs">Distributed under the</span>
    MIT License</a>
  </ul>
</div>
</body>
</html>
