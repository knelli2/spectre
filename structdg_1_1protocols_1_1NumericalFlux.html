<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="author" content="SXS Collaboration">
    <meta name="generator" content="Doxygen 1.9.1"/>
  <title>SpECTRE: dg::protocols::NumericalFlux Struct Reference</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="./MathJax.js"></script>
  <link href="octicons.css" rel="stylesheet">
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
  <script src="https://unpkg.com/@popperjs/core@2"></script>
  <script src="https://unpkg.com/tippy.js@6"></script>
  <script type="text/javascript" src="spectre.js"></script>
  <script type="text/javascript" src="doxygen-navtree-hacks.js"></script>
  </head>
  <body>
  <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
  <div id="titlearea">
    <table cellspacing="0" cellpadding="0">
      <tbody>
        <tr style="height: 56px;">
          <td id="projectalign" style="padding-left: 0.5em;">
            <div id="projectname">
              <a href="index.html">SpECTRE</a>
              &#160;<span id="projectnumber">v2022.08.01</span>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('structdg_1_1protocols_1_1NumericalFlux.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle">
<div class="title">dg::protocols::NumericalFlux Struct Reference<div class="ingroups"><a class="el" href="group__ProtocolsGroup.html">Protocols</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Defines the interface for DG numerical fluxes.  
 <a href="structdg_1_1protocols_1_1NumericalFlux.html#details">More...</a></p>

<p><code>#include &lt;Protocols.hpp&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdg_1_1protocols_1_1NumericalFlux_1_1test.html">test</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Defines the interface for DG numerical fluxes. </p>
<p>This protocol defines the interface that a class must conform to so that it can be used as a numerical flux in DG boundary schemes. Essentially, the class must be able to compute the quantity \(G\) that appears, for example, in the strong first-order DG boundary scheme \(G_\alpha(n_i^\mathrm{int}, u_\alpha^\mathrm{int}, n_i^\mathrm{ext}, u_\alpha^\mathrm{ext}) - n_i^\mathrm{int} F^{i,\mathrm{int}}_\alpha\) where \(u_\alpha\) are the system variables and \(F^i_\alpha\) their corresponding fluxes. See also Eq. (2.20) in <b>[Teukolsky2015ega]</b> where the quantity \(G\) is denoted \(n_i F^{i*}\), which is why we occasionally refer to it as the "normal-dot-numerical-fluxes".</p>
<p>Requires the <code>ConformingType</code> has these type aliases:</p><ul>
<li><code>variables_tags</code>: A typelist of DataBox tags that the class computes numerical fluxes for.</li>
<li><code>argument_tags</code>: A typelist of DataBox tags that will be retrieved on interfaces and passed to the <code>package_data</code> function (see below). The <code>ConformingType</code> may also have a <code>volume_tags</code> typelist that specifies the subset of <code>argument_tags</code> that should be retrieved from the volume instead of the interface.</li>
<li><code>package_field_tags</code>: A typelist of DataBox tags with <code>Tensor</code> types that the <code>package_data</code> function will compute from the <code>argument_tags</code>. These quantities will be made available on both sides of a mortar and passed to the call operator to compute the numerical flux.</li>
<li><code>package_extra_tags</code>: Additional non-tensor tags that will be made available on both sides of a mortar, e.g. geometric quantities.</li>
</ul>
<p>Requires the <code>ConformingType</code> has these member functions:</p><ul>
<li><code>package_data</code>: Takes the types of the <code>package_field_tags</code> and the <code>package_extra_tags</code> by <code><a class="el" href="classgsl_1_1not__null.html" title="Require a pointer to not be a nullptr">gsl::not_null</a></code> pointer, followed by the types of the <code>argument_tags</code>.</li>
<li><code>operator()</code>: Takes the types of the <code>variables_tags</code> by <code><a class="el" href="classgsl_1_1not__null.html" title="Require a pointer to not be a nullptr">gsl::not_null</a></code> pointer, followed by the types of the <code>package_field_tags</code> and the <code>package_extra_tags</code> from the interior side of the mortar and from the exterior side. Note that the data from the exterior side was computed entirely with data from the neighboring element, including its interface normal which is (at least when it's independent of the system variables) opposite to the interior element's interface normal. Therefore, make sure to take into account the sign flip for quantities that include the interface normal.</li>
</ul>
<p>Here's an example for a simple "central" numerical flux \(G_\alpha(n_i^\mathrm{int}, u_\alpha^\mathrm{int}, n_i^\mathrm{ext}, u_\alpha^\mathrm{ext}) = \frac{1}{2}\left(n_i^\mathrm{int} F^{i,\mathrm{int}}_\alpha - n_i^\mathrm{ext} F^{i,\mathrm{ext}}_\alpha \right)\):</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span>CentralFlux : <a class="code" href="structtt_1_1ConformsTo.html">tt::ConformsTo</a>&lt;dg::protocols::NumericalFlux&gt; {</div>
<div class="line">  <span class="keyword">using</span> variables_tags = tmpl::list&lt;FieldTag&gt;;</div>
<div class="line">  <span class="keyword">using</span> argument_tags = tmpl::list&lt;::Tags::NormalDotFlux&lt;FieldTag&gt;&gt;;</div>
<div class="line">  <span class="keyword">using</span> package_field_tags = tmpl::list&lt;::Tags::NormalDotFlux&lt;FieldTag&gt;&gt;;</div>
<div class="line">  <span class="keyword">using</span> package_extra_tags = tmpl::list&lt;&gt;;</div>
<div class="line">  <span class="keyword">static</span> <span class="keywordtype">void</span> package_data(</div>
<div class="line">      <span class="keyword">const</span> <a class="code" href="classgsl_1_1not__null.html">gsl::not_null</a>&lt;<a class="code" href="group__TensorGroup.html#ga06ebcb38a1f13c246e53378b9e8959ce">Scalar&lt;DataVector&gt;</a>*&gt; packaged_normal_dot_flux,</div>
<div class="line">      <span class="keyword">const</span> <a class="code" href="group__TensorGroup.html#ga06ebcb38a1f13c246e53378b9e8959ce">Scalar&lt;DataVector&gt;</a>&amp; normal_dot_flux) {</div>
<div class="line">    *packaged_normal_dot_flux = normal_dot_flux;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordtype">void</span> operator()(<span class="keyword">const</span> <a class="code" href="classgsl_1_1not__null.html">gsl::not_null</a>&lt;<a class="code" href="group__TensorGroup.html#ga06ebcb38a1f13c246e53378b9e8959ce">Scalar&lt;DataVector&gt;</a>*&gt; numerical_flux,</div>
<div class="line">                  <span class="keyword">const</span> <a class="code" href="group__TensorGroup.html#ga06ebcb38a1f13c246e53378b9e8959ce">Scalar&lt;DataVector&gt;</a>&amp; normal_dot_flux_interior,</div>
<div class="line">                  <span class="keyword">const</span> <a class="code" href="group__TensorGroup.html#ga06ebcb38a1f13c246e53378b9e8959ce">Scalar&lt;DataVector&gt;</a>&amp; normal_dot_flux_exterior)<span class="keyword"> const </span>{</div>
<div class="line">    <span class="comment">// The minus sign appears because the `normal_dot_flux_exterior` was</span></div>
<div class="line">    <span class="comment">// computed with the interface normal from the neighboring element</span></div>
<div class="line">    <a class="code" href="group__DataBoxGroup.html#ga7a73814c3b741edbdfe1659e3851f0fe">get</a>(*numerical_flux) =</div>
<div class="line">        0.5 * (<a class="code" href="group__DataBoxGroup.html#ga7a73814c3b741edbdfe1659e3851f0fe">get</a>(normal_dot_flux_interior) - <a class="code" href="group__DataBoxGroup.html#ga7a73814c3b741edbdfe1659e3851f0fe">get</a>(normal_dot_flux_exterior));</div>
<div class="line">  }</div>
<div class="line">};</div>
<div class="ttc" id="aclassgsl_1_1not__null_html"><div class="ttname"><a href="classgsl_1_1not__null.html">gsl::not_null</a></div><div class="ttdoc">Require a pointer to not be a nullptr</div><div class="ttdef"><b>Definition:</b> Gsl.hpp:183</div></div>
<div class="ttc" id="agroup__DataBoxGroup_html_ga7a73814c3b741edbdfe1659e3851f0fe"><div class="ttname"><a href="group__DataBoxGroup.html#ga7a73814c3b741edbdfe1659e3851f0fe">db::get</a></div><div class="ttdeci">const auto &amp; get(const DataBox&lt; TagList &gt; &amp;box)</div><div class="ttdoc">Retrieve the item with tag Tag from the DataBox.</div><div class="ttdef"><b>Definition:</b> DataBox.hpp:880</div></div>
<div class="ttc" id="agroup__TensorGroup_html_ga06ebcb38a1f13c246e53378b9e8959ce"><div class="ttname"><a href="group__TensorGroup.html#ga06ebcb38a1f13c246e53378b9e8959ce">Scalar</a></div><div class="ttdeci">Tensor&lt; T, Symmetry&lt;&gt;, index_list&lt;&gt; &gt; Scalar</div><div class="ttdoc">Scalar type.</div><div class="ttdef"><b>Definition:</b> TypeAliases.hpp:21</div></div>
<div class="ttc" id="astructtt_1_1ConformsTo_html"><div class="ttname"><a href="structtt_1_1ConformsTo.html">tt::ConformsTo</a></div><div class="ttdoc">Indicate a class conforms to the Protocol.</div><div class="ttdef"><b>Definition:</b> ProtocolHelpers.hpp:22</div></div>
</div><!-- fragment --><p> Note that this numerical flux reduces to the interface average \(G_\alpha=\frac{n^\mathrm{int}_i}{2}\left(F^{i,\mathrm{int}}_\alpha + F^{i,\mathrm{ext}}_\alpha\right)\) for the case where the interface normal is independent of the system variables and therefore \(n_i^\mathrm{ext} = -n_i^\mathrm{int}\). </p>
</div><hr/>The documentation for this struct was generated from the following file:<ul>
<li>src/NumericalAlgorithms/DiscontinuousGalerkin/Protocols.hpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacedg.html">dg</a></li><li class="navelem"><a class="el" href="namespacedg_1_1protocols.html">protocols</a></li><li class="navelem"><a class="el" href="structdg_1_1protocols_1_1NumericalFlux.html">NumericalFlux</a></li>
    <li class="footer">
    &copy; Copyright 2017 - 2022
    <a href="https://black-holes.org">SXS Collaboration</a>,
    <a href="LICENSE.txt" target="_blank">
    <span class="hidden-xs">Distributed under the</span>
    MIT License</a>
  </ul>
</div>
</body>
</html>
